const a0_0x3ad1d7=a0_0x5338;(function(_0x5d5cb4,_0x422ab4){const _0x1dd27f=a0_0x5338,_0x5dbc51=_0x5d5cb4();while(!![]){try{const _0x3014f6=-parseInt(_0x1dd27f(0x1d5))/0x1*(parseInt(_0x1dd27f(0x232))/0x2)+parseInt(_0x1dd27f(0x22f))/0x3+-parseInt(_0x1dd27f(0x1ee))/0x4+parseInt(_0x1dd27f(0x20a))/0x5*(-parseInt(_0x1dd27f(0x20f))/0x6)+-parseInt(_0x1dd27f(0x1d4))/0x7*(-parseInt(_0x1dd27f(0x1da))/0x8)+parseInt(_0x1dd27f(0x1fa))/0x9+parseInt(_0x1dd27f(0x22d))/0xa;if(_0x3014f6===_0x422ab4)break;else _0x5dbc51['push'](_0x5dbc51['shift']());}catch(_0x35d5d1){_0x5dbc51['push'](_0x5dbc51['shift']());}}}(a0_0x51d7,0x7ec18));const fs=require('fs'),path=require('path');class GroupEventManager{constructor(){const _0x10bb5=a0_0x5338;this[_0x10bb5(0x236)]=path[_0x10bb5(0x1e6)](__dirname,'..',_0x10bb5(0x20c),'group-event-config.json'),this['events']=['group-participants.update'],this[_0x10bb5(0x1d1)]={'global':{'events':{'welcome':{'enabled':!![],'message':_0x10bb5(0x239)+_0x10bb5(0x240)+_0x10bb5(0x1fc)+_0x10bb5(0x242)},'goodbye':{'enabled':!![],'message':_0x10bb5(0x1e8)+'‚¶ø\x20We\x27re\x20sad\x20to\x20see\x20you\x20leave\x20*@group*!\x20üëã\x0a'+_0x10bb5(0x23d)+_0x10bb5(0x242)},'promote':{'enabled':!![],'message':'‚øª\x20Congratulations\x20@name!\x20üéâ\x0a'+_0x10bb5(0x1db)+'>\x20¬©\x20…™…¥·¥õ·¥á ü ü…™…¢·¥á…¥·¥Ñ·¥á\x20 ô è\x20·¥ã·¥è Ä·¥Ö\x20…™…¥·¥Ñ¬≥¬≤¬π‚Ñ¢'},'demote':{'enabled':!![],'message':'‚øª\x20Hii\x20@name\x0a'+_0x10bb5(0x207)+_0x10bb5(0x242)}},'settings':{'mentionUser':!![],'useProfilePicture':!![],'fallbackProfilePic':'https://files.catbox.moe/wpi099.png'}},'groups':{}},this['configCache']=null,this[_0x10bb5(0x21a)](),this[_0x10bb5(0x22a)]();}['initializeWatcher'](){const _0x1b5fa6=a0_0x5338,_0x3edf34=path[_0x1b5fa6(0x230)](this[_0x1b5fa6(0x236)]);!fs[_0x1b5fa6(0x22e)](_0x3edf34)&&fs['mkdirSync'](_0x3edf34,{'recursive':!![]}),!fs['existsSync'](this['configPath'])&&this[_0x1b5fa6(0x1e7)](this[_0x1b5fa6(0x1d1)]),this[_0x1b5fa6(0x1d6)]=fs[_0x1b5fa6(0x21f)](_0x3edf34,(_0xcec3e2,_0x148102)=>{const _0x1fe672=_0x1b5fa6;_0x148102===path[_0x1fe672(0x20e)](this[_0x1fe672(0x236)])&&_0xcec3e2===_0x1fe672(0x208)&&(console[_0x1fe672(0x1d9)](_0x1fe672(0x1eb)),this[_0x1fe672(0x22a)]());}),this[_0x1b5fa6(0x1d6)]['on'](_0x1b5fa6(0x227),_0x1e3dfe=>{const _0xc85290=_0x1b5fa6;console[_0xc85290(0x227)](_0xc85290(0x233),_0x1e3dfe),this['restartWatcher']();}),process['on'](_0x1b5fa6(0x200),()=>this[_0x1b5fa6(0x1d6)]?.['close']());}[a0_0x3ad1d7(0x1de)](){const _0x5158cb=a0_0x3ad1d7;this[_0x5158cb(0x1d6)]&&this[_0x5158cb(0x1d6)][_0x5158cb(0x224)](),setTimeout(()=>{const _0xae2167=_0x5158cb;console[_0xae2167(0x1d9)](_0xae2167(0x220)),this[_0xae2167(0x21a)]();},0x3e8);}[a0_0x3ad1d7(0x22a)](){const _0x1e5765=a0_0x3ad1d7;try{const _0x27476f=this['readConfig']();return this['configCache']=_0x27476f,console['log'](_0x1e5765(0x219)),_0x27476f;}catch(_0x5a41b9){return console[_0x1e5765(0x227)](_0x1e5765(0x1e1),_0x5a41b9),this['defaultConfig'];}}['readConfig'](){const _0x424098=a0_0x3ad1d7;try{if(!fs[_0x424098(0x22e)](this['configPath']))return this[_0x424098(0x1e7)](this[_0x424098(0x1d1)]),this[_0x424098(0x1d1)];const _0x19952d=JSON[_0x424098(0x1e4)](fs[_0x424098(0x1f8)](this['configPath'],_0x424098(0x23c)));return this['configCache']=_0x19952d,_0x19952d;}catch(_0x251464){return console['error'](_0x424098(0x206),_0x251464),this[_0x424098(0x20b)]||this[_0x424098(0x1d1)];}}[a0_0x3ad1d7(0x1e7)](_0x56b18f){const _0x5c69db=a0_0x3ad1d7;try{const _0x3af8f9=path[_0x5c69db(0x230)](this['configPath']);return!fs['existsSync'](_0x3af8f9)&&fs[_0x5c69db(0x1f0)](_0x3af8f9,{'recursive':!![]}),fs[_0x5c69db(0x243)](this[_0x5c69db(0x236)],JSON['stringify'](_0x56b18f,null,0x2)),this[_0x5c69db(0x20b)]=_0x56b18f,!![];}catch(_0x5bf6ca){return console[_0x5c69db(0x227)]('Error\x20writing\x20configuration:',_0x5bf6ca),![];}}['setGlobalEventConfig'](_0x4bd10c,_0x176f8a={}){const _0x2ea6d9=a0_0x3ad1d7,_0x458eed=this[_0x2ea6d9(0x1e3)]();if(!_0x458eed[_0x2ea6d9(0x216)][_0x2ea6d9(0x209)][_0x4bd10c])return console[_0x2ea6d9(0x227)](_0x2ea6d9(0x1ed)+_0x4bd10c),![];return _0x458eed['global'][_0x2ea6d9(0x209)][_0x4bd10c]={..._0x458eed[_0x2ea6d9(0x216)][_0x2ea6d9(0x209)][_0x4bd10c],..._0x176f8a},this[_0x2ea6d9(0x1e7)](_0x458eed);}[a0_0x3ad1d7(0x1dc)](_0x4b17b2,_0x1eb3ce){const _0x4ea3fe=a0_0x3ad1d7,_0x8f8b52=this[_0x4ea3fe(0x1e3)]();if(!_0x8f8b52[_0x4ea3fe(0x216)][_0x4ea3fe(0x211)]['hasOwnProperty'](_0x4b17b2))return console[_0x4ea3fe(0x227)](_0x4ea3fe(0x217)+_0x4b17b2),![];return _0x8f8b52[_0x4ea3fe(0x216)][_0x4ea3fe(0x211)][_0x4b17b2]=_0x1eb3ce,this[_0x4ea3fe(0x1e7)](_0x8f8b52);}[a0_0x3ad1d7(0x1ea)](_0x15be78,_0x459206={}){const _0x7eb8d=a0_0x3ad1d7,_0x2801f6=this[_0x7eb8d(0x1e3)](),_0x279911=this[_0x7eb8d(0x1d2)](_0x15be78);if(!_0x279911)return console[_0x7eb8d(0x227)](_0x7eb8d(0x1fd)),![];return!_0x2801f6[_0x7eb8d(0x23b)][_0x279911]&&(_0x2801f6[_0x7eb8d(0x23b)][_0x279911]={'events':{}}),Object['entries'](_0x459206)[_0x7eb8d(0x21b)](([_0x1ae48d,_0x2c58a1])=>{const _0x439709=_0x7eb8d;if(!_0x2801f6[_0x439709(0x216)][_0x439709(0x209)][_0x1ae48d]){console[_0x439709(0x227)](_0x439709(0x1ed)+_0x1ae48d);return;}_0x2801f6[_0x439709(0x23b)][_0x279911]['events'][_0x1ae48d]={..._0x2801f6[_0x439709(0x23b)][_0x279911][_0x439709(0x209)][_0x1ae48d],..._0x2c58a1};}),this[_0x7eb8d(0x1e7)](_0x2801f6);}async[a0_0x3ad1d7(0x1ef)](_0x526473,_0x58e76a){const _0x4afdcf=a0_0x3ad1d7;try{const _0x5d5b9b=this[_0x4afdcf(0x1d2)](_0x58e76a);return await _0x526473[_0x4afdcf(0x1f5)](_0x5d5b9b,'image');}catch(_0x56b387){return console[_0x4afdcf(0x227)](_0x4afdcf(0x1e9)+_0x56b387[_0x4afdcf(0x204)]),null;}}[a0_0x3ad1d7(0x1cf)](_0x1554d7,_0x5bed97){const _0x13c262=a0_0x3ad1d7;return _0x1554d7[_0x13c262(0x214)](/@name/g,_0x5bed97[_0x13c262(0x213)])['replace'](/@group/g,_0x5bed97[_0x13c262(0x1d0)]);}[a0_0x3ad1d7(0x1d2)](_0x1fb09b){const _0x533cac=a0_0x3ad1d7;if(!_0x1fb09b)return null;const _0x6aa389=String(_0x1fb09b)[_0x533cac(0x229)]();if(_0x6aa389[_0x533cac(0x1d8)]('@g.us')||_0x6aa389[_0x533cac(0x1d8)](_0x533cac(0x1cd)))return _0x6aa389;const _0x30379e=_0x6aa389[_0x533cac(0x214)](/[^\d@]/g,'');if(!_0x30379e)return null;return _0x6aa389[_0x533cac(0x222)]('g.us')?_0x30379e+_0x533cac(0x1d3):_0x30379e+'@s.whatsapp.net';}async[a0_0x3ad1d7(0x1f6)](_0x160d25,_0x5993a3){const _0x70dac0=a0_0x3ad1d7;try{if(!_0x5993a3||!_0x5993a3[_0x70dac0(0x1f3)]||!_0x5993a3['id'])throw new Error(_0x70dac0(0x1ff));const _0x26289f=[_0x70dac0(0x226),_0x70dac0(0x203),_0x70dac0(0x1f7),_0x70dac0(0x1fb)];if(!_0x26289f['includes'](_0x5993a3[_0x70dac0(0x1f3)])){console[_0x70dac0(0x1d9)](_0x70dac0(0x223)+_0x5993a3[_0x70dac0(0x1f3)]);return;}if(!_0x5993a3['participants']||!Array[_0x70dac0(0x235)](_0x5993a3[_0x70dac0(0x23e)]))throw new Error(_0x70dac0(0x202));const _0x158fb7=this[_0x70dac0(0x1e3)](),_0x2d8b4e=this[_0x70dac0(0x1d2)](_0x5993a3['id']);if(!_0x2d8b4e)throw new Error(_0x70dac0(0x1f9)+_0x5993a3['id']);const _0x520bdf={'add':_0x70dac0(0x1f1),'remove':_0x70dac0(0x23a),'promote':_0x70dac0(0x1f7),'demote':_0x70dac0(0x1fb)},_0xb5cb1d=_0x520bdf[_0x5993a3[_0x70dac0(0x1f3)]];console[_0x70dac0(0x1d9)](_0x70dac0(0x1d7)+_0xb5cb1d);const _0x102f68=_0x158fb7[_0x70dac0(0x216)][_0x70dac0(0x209)][_0xb5cb1d],_0x179f39=_0x158fb7['groups'][_0x2d8b4e]?.['events']?.[_0xb5cb1d],_0x5f0ab4=_0x179f39?.[_0x70dac0(0x205)]??_0x102f68?.[_0x70dac0(0x205)]??![];if(!_0x5f0ab4)return;const _0x2c29f8=await _0x160d25['groupMetadata'](_0x2d8b4e)[_0x70dac0(0x241)](_0x49e7dc=>{const _0x4028ff=_0x70dac0;return console['error'](_0x4028ff(0x215),_0x49e7dc),{'subject':_0x4028ff(0x201)};});for(const _0x45cec0 of _0x5993a3['participants']){const _0x138f2c=this[_0x70dac0(0x1d2)](typeof _0x45cec0==='string'?_0x45cec0:_0x45cec0?.['id']);if(!_0x138f2c){console[_0x70dac0(0x227)]('Invalid\x20participant\x20data:',_0x45cec0);continue;}const _0x19bfd8=typeof _0x45cec0===_0x70dac0(0x1e2)&&_0x45cec0[_0x70dac0(0x231)]?_0x45cec0[_0x70dac0(0x231)]:'@'+_0x138f2c[_0x70dac0(0x23f)]('@')[0x0],_0x219adc={'name':_0x19bfd8,'group':_0x2c29f8['subject']},_0x30a602=_0x179f39?.[_0x70dac0(0x204)]??_0x102f68?.[_0x70dac0(0x204)];if(!_0x30a602){console[_0x70dac0(0x227)](_0x70dac0(0x1cc)+_0xb5cb1d);continue;}const _0x177858=this[_0x70dac0(0x1cf)](_0x30a602,_0x219adc);await this[_0x70dac0(0x1f4)](_0x160d25,_0x2d8b4e,{'id':_0x138f2c,'name':_0x19bfd8},_0x177858,_0x158fb7[_0x70dac0(0x216)][_0x70dac0(0x211)])['catch'](_0x47b512=>{const _0x53b449=_0x70dac0;console[_0x53b449(0x227)](_0x53b449(0x234),_0x47b512);});}}catch(_0x515222){console[_0x70dac0(0x227)]('Error\x20in\x20execute\x20method:',_0x515222);throw _0x515222;}}async['sendEventMessage'](_0x474f32,_0x273ff4,_0x5ce242,_0x3e999b,_0x1ed509){const _0x6bcc6c=a0_0x3ad1d7;try{console[_0x6bcc6c(0x1d9)]('Sending\x20event\x20message:',{'chatId':_0x273ff4,'participantId':_0x5ce242['id'],'messageLength':_0x3e999b[_0x6bcc6c(0x228)],'settings':_0x1ed509});const _0x27bfcb=this[_0x6bcc6c(0x1d2)](_0x5ce242['id']);if(!_0x27bfcb)throw new Error('Invalid\x20participant\x20JID\x20in\x20sendEventMessage');let _0x22c7a8=null;if(_0x1ed509[_0x6bcc6c(0x225)])try{_0x22c7a8=await this[_0x6bcc6c(0x1ef)](_0x474f32,_0x27bfcb),!_0x22c7a8&&_0x1ed509['fallbackProfilePic']&&(_0x22c7a8=_0x1ed509['fallbackProfilePic']);}catch(_0x54c974){console[_0x6bcc6c(0x227)](_0x6bcc6c(0x238),_0x54c974),_0x1ed509[_0x6bcc6c(0x1fe)]&&(_0x22c7a8=_0x1ed509[_0x6bcc6c(0x1fe)]);}const _0x1788be={'mentions':_0x1ed509[_0x6bcc6c(0x22c)]?[_0x27bfcb]:[]};_0x22c7a8?(_0x1788be[_0x6bcc6c(0x22b)]={'url':_0x22c7a8},_0x1788be[_0x6bcc6c(0x1ce)]=_0x3e999b):_0x1788be[_0x6bcc6c(0x212)]=_0x3e999b;const _0xbdb604=await _0x474f32[_0x6bcc6c(0x1f2)](_0x273ff4,_0x1788be);return console[_0x6bcc6c(0x1d9)](_0x6bcc6c(0x1ec),_0xbdb604?.[_0x6bcc6c(0x1df)]?.['id']),_0xbdb604;}catch(_0x4f5152){console['error'](_0x6bcc6c(0x1dd),_0x4f5152);throw _0x4f5152;}}[a0_0x3ad1d7(0x218)](_0x366298,..._0x262141){const _0x314c85=a0_0x3ad1d7;switch(_0x366298){case _0x314c85(0x221):const [_0x5c5212,_0x150196,_0x549edc]=_0x262141;return this[_0x314c85(0x1e5)](_0x5c5212,{'enabled':_0x150196==='true',..._0x549edc&&{'message':_0x549edc}});case _0x314c85(0x237):const [_0x2feeed,_0xd0916,_0x21b673,_0x443ff2]=_0x262141;return this[_0x314c85(0x1ea)](_0x2feeed,{[_0xd0916]:{'enabled':_0x21b673==='true',..._0x443ff2&&{'message':_0x443ff2}}});case _0x314c85(0x21d):const [_0x38b88e,_0x5f010d]=_0x262141;return this[_0x314c85(0x1dc)](_0x38b88e,_0x5f010d===_0x314c85(0x21e)?!![]:_0x5f010d==='false'?![]:_0x5f010d);case _0x314c85(0x1e0):return JSON[_0x314c85(0x21c)](this[_0x314c85(0x1e3)](),null,0x2);default:return _0x314c85(0x20d);}}}function a0_0x5338(_0x1ee165,_0x5e025f){const _0x51d726=a0_0x51d7();return a0_0x5338=function(_0x5338bc,_0x4254f1){_0x5338bc=_0x5338bc-0x1cc;let _0x5d688b=_0x51d726[_0x5338bc];return _0x5d688b;},a0_0x5338(_0x1ee165,_0x5e025f);}module[a0_0x3ad1d7(0x210)]=new GroupEventManager();function a0_0x51d7(){const _0x14f48f=['Skipping\x20unsupported\x20action:\x20','close','useProfilePicture','add','error','length','trim','loadConfig','image','mentionUser','9246820RqEeXQ','existsSync','34725VoRtAY','dirname','notify','63380nyqwtd','File\x20watcher\x20error:','Failed\x20to\x20send\x20event\x20message:','isArray','configPath','configure-group-event','Failed\x20to\x20fetch\x20profile\x20picture:','‚øª\x20Hello\x20@name,\x0a','goodbye','groups','utf8','‚øª\x20Hope\x20you\x20had\x20a\x20great\x20time\x20with\x20us!\x0a\x0a','participants','split','‚¶ø\x20Welcome\x20to\x20*@group*!\x20üéâ\x0a','catch','>\x20¬©\x20…™…¥·¥õ·¥á ü ü…™…¢·¥á…¥·¥Ñ·¥á\x20 ô è\x20·¥ã·¥è Ä·¥Ö\x20…™…¥·¥Ñ¬≥¬≤¬π‚Ñ¢','writeFileSync','No\x20message\x20template\x20found\x20for\x20event\x20','@s.whatsapp.net','caption','formatMessage','group','defaultConfig','normalizeJid','@g.us','460201YuEjXs','12rnxQEz','watcher','Processing\x20event\x20type:\x20','endsWith','log','40UcQHOg','‚¶ø\x20You\x27ve\x20been\x20promoted\x20to\x20admin\x20in\x20*@group*\x0a\x0a','setGlobalSetting','Error\x20in\x20sendEventMessage:','restartWatcher','key','get-config','Error\x20loading\x20configuration:','object','readConfig','parse','setGlobalEventConfig','join','writeConfig','‚øª\x20Goodbye\x20@name,\x0a','Failed\x20to\x20fetch\x20profile\x20picture:\x20','configureGroupEvents','Configuration\x20file\x20changed,\x20reloading...','Message\x20sent\x20successfully:','Invalid\x20event\x20type:\x20','1213544zNirNc','fetchUserProfilePicture','mkdirSync','welcome','sendMessage','action','sendEventMessage','profilePictureUrl','execute','promote','readFileSync','Invalid\x20group\x20JID:\x20','5636052FXcvFa','demote','‚øª\x20Hope\x20you\x20enjoy\x20your\x20stay\x20here!\x0a\x0a','Invalid\x20group\x20JID','fallbackProfilePic','Invalid\x20event\x20data\x20structure','exit','Group\x20Chat','No\x20participants\x20found\x20in\x20event\x20data','remove','message','enabled','Error\x20reading\x20configuration:','‚¶ø\x20You\x27ve\x20been\x20demoted\x20in\x20*@group*\x0a\x0a','change','events','10CRGdJp','configCache','Database','Unknown\x20command','basename','2065026JHjRjc','exports','settings','text','name','replace','Failed\x20to\x20fetch\x20group\x20metadata:','global','Invalid\x20global\x20setting:\x20','processCommand','Configuration\x20loaded\x20successfully','initializeWatcher','forEach','stringify','set-global-setting','true','watch','Restarting\x20file\x20watcher...','set-global-event','includes'];a0_0x51d7=function(){return _0x14f48f;};return a0_0x51d7();}