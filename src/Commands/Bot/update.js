const a0_0x38b02e=a0_0x226b;(function(_0x215853,_0x6b1009){const _0x2feac1=a0_0x226b,_0x5f07de=_0x215853();while(!![]){try{const _0x5ce7de=parseInt(_0x2feac1(0x226))/0x1*(-parseInt(_0x2feac1(0x229))/0x2)+-parseInt(_0x2feac1(0x1e7))/0x3*(-parseInt(_0x2feac1(0x1ed))/0x4)+-parseInt(_0x2feac1(0x268))/0x5*(parseInt(_0x2feac1(0x24f))/0x6)+parseInt(_0x2feac1(0x1e8))/0x7+parseInt(_0x2feac1(0x1f1))/0x8*(parseInt(_0x2feac1(0x1f3))/0x9)+parseInt(_0x2feac1(0x241))/0xa*(-parseInt(_0x2feac1(0x1c5))/0xb)+parseInt(_0x2feac1(0x1ff))/0xc;if(_0x5ce7de===_0x6b1009)break;else _0x5f07de['push'](_0x5f07de['shift']());}catch(_0x5aea71){_0x5f07de['push'](_0x5f07de['shift']());}}}(a0_0xb1c2,0x2399f));const axios=require('axios'),crypto=require(a0_0x38b02e(0x1cf)),fs=require('fs')[a0_0x38b02e(0x238)],path=require(a0_0x38b02e(0x1d6)),AdmZip=require(a0_0x38b02e(0x21f)),{spawn}=require(a0_0x38b02e(0x1cd)),fetch=(..._0x28e00c)=>import(a0_0x38b02e(0x264))[a0_0x38b02e(0x1d7)](({default:_0xbf99f3})=>_0xbf99f3(..._0x28e00c)),config={'github':{'owner':a0_0x38b02e(0x1ca),'repo':a0_0x38b02e(0x232),'branch':a0_0x38b02e(0x1ce),'tokenParts':[a0_0x38b02e(0x1db),a0_0x38b02e(0x1c8),a0_0x38b02e(0x1d3),'WDTMKE571',a0_0x38b02e(0x217)]},'paths':{'root':path[a0_0x38b02e(0x237)](__dirname,'..','..','..'),'temp':path[a0_0x38b02e(0x24b)](path[a0_0x38b02e(0x237)](__dirname,'..','..','..'),a0_0x38b02e(0x1f7)),'zip':path['join'](path[a0_0x38b02e(0x237)](__dirname,'..','..','..'),a0_0x38b02e(0x239))},'protected':['node_modules','Config.js',a0_0x38b02e(0x20e),a0_0x38b02e(0x257),'Session',path[a0_0x38b02e(0x24b)]('..','..','Session'),a0_0x38b02e(0x1e6)],'versionFile':path[a0_0x38b02e(0x24b)](path[a0_0x38b02e(0x237)](__dirname,'..','..','..'),a0_0x38b02e(0x224))};function validateTokenConfig(){const _0x2801bc=a0_0x38b02e;if(!config[_0x2801bc(0x1e4)]['token']||!config[_0x2801bc(0x1e4)][_0x2801bc(0x247)]['startsWith'](_0x2801bc(0x20b)))throw new Error(_0x2801bc(0x265));}function a0_0xb1c2(){const _0x3e96f8=['/compare/','application/vnd.github.v3+json','/Plugin/','join','current','arrayBuffer','Error\x20processing\x20','6ANisUw','writeFile','hex','startsWith','utf-8','changedFiles','stat','commit','.env','unref','ignore','zip','catch','from','date','Invalid\x20hash\x20values\x20provided','FULL_UPDATE_REQUIRED','‚ö†Ô∏è\x20Update\x20completed\x20with\x20','Removed:\x20','Invalid\x20response\x20format\x20from\x20GitHub\x20API','src/Commands/','node-fetch','Invalid\x20GitHub\x20token\x20configuration','Bearer\x20','copyFile','1090105OzfmOa','Error\x20getting\x20current\x20state:','commits','Error\x20downloading\x20file\x20','push','1418582kKbLad','name','KordAi','1VYrHoKCu','*Update\x20found!*\x0a\x0aCurrent:\x20','M3264','Download\x20failed:\x20','Failed\x20to\x20download:\x20','child_process','master','crypto','Failed\x20to\x20remove\x20','/zipball/','json','Z7VCNWugV','extractAllToAsync','all','path','then','removed','sha','_*UPDATING...*_\x0a\x0a\x20please\x20wait...','ghp_UlBS','isArray','‚úÖ\x20Update\x20completed\x20successfully!','hash','string','exit','trim','sendMessage','error','github','relative','package-lock.json','127287VfAzcH','1525461BOUiGv','substring','sha256','forEach','readdir','20aiWaTv','remoteJid','Update\x20check\x20failed:','Error\x20removing\x20','72vPreGw','Error\x20copying\x20','38466baHojd','commitHistory','length','has','temp_update','behind_by','code','dirname','entries','‚úì\x20Update\x20completed\x20-\x20No\x20restart\x20needed','includes','ENOENT','2818392xRgPXi','File\x20sync\x20error:','paths','files','digest','replace','key','\x20errors:\x0a','status','message','unlink','repo','ghp_','/commits?per_page=2','extname','config.js','normalize','/commits/','Error\x20getting\x20changed\x20files:','update','branch','filter','map','owner','Clrof','_Checking\x20for\x20updates..._','Cleanup\x20error:','Extraction\x20failed:\x20','set','some','Error\x20getting\x20previous\x20commit:','toLowerCase','adm-zip','https://api.github.com/repos/','exports','Auto-update\x20error:','filename','.version','shortHash','70198OgfQHS','createHash','access','6fttRKm','\x0a\x0aStarting\x20update...','values','versionFile','readFile','Error\x20getting\x20latest\x20commit:','temp','Bot','https://raw.githubusercontent.com/','Kord-Ai','.\x20[','Updates\x20the\x20bot\x20files\x20from\x20the\x20latest\x20GitHub\x20commit.','GitHub\x20API\x20error:\x20','latest','resolve','promises','bot-update.zip','index.js','‚ö†Ô∏è\x20Update\x20completed\x20with\x20some\x20errors:','isDirectory','\x20commits','statusText','log','Update\x20error:','10YvDheJ','root','...','node','modified','Error\x20getting\x20commit\x20history:','token'];a0_0xb1c2=function(){return _0x3e96f8;};return a0_0xb1c2();}function getGithubToken(){const _0x481fbe=a0_0x38b02e;return config[_0x481fbe(0x1e4)]['tokenParts'][_0x481fbe(0x24b)]('');}const githubFetchOptions={'headers':{'Authorization':a0_0x38b02e(0x266)+getGithubToken(),'Accept':a0_0x38b02e(0x249),'User-Agent':a0_0x38b02e(0x1c7)}};async function githubFetch(_0x492302,_0xbc7106={}){const _0x5984b9=a0_0x38b02e;try{const _0x31a7c9=await fetch(_0x492302,{'headers':{'Authorization':'Bearer\x20'+getGithubToken(),'Accept':'application/vnd.github.v3+json','User-Agent':_0x5984b9(0x1c7)},..._0xbc7106});if(!_0x31a7c9['ok'])throw new Error(_0x5984b9(0x235)+_0x31a7c9[_0x5984b9(0x207)]+'\x20'+_0x31a7c9[_0x5984b9(0x23e)]);return _0x31a7c9;}catch(_0x1a8ab2){console[_0x5984b9(0x1e3)]('GitHub\x20API\x20request\x20failed:\x20'+_0x492302,_0x1a8ab2);throw _0x1a8ab2;}}function isProtectedPath(_0x9634df){const _0x3e5787=a0_0x38b02e,_0x2e347f=path[_0x3e5787(0x20f)](_0x9634df)[_0x3e5787(0x204)](/\\/g,'/');return config['protected'][_0x3e5787(0x21c)](_0x3c3e28=>{const _0x5ccf0a=_0x3e5787,_0x4a60cc=path[_0x5ccf0a(0x20f)](_0x3c3e28)[_0x5ccf0a(0x204)](/\\/g,'/');return _0x2e347f===_0x4a60cc||_0x2e347f[_0x5ccf0a(0x252)](_0x4a60cc+'/')||_0x2e347f[_0x5ccf0a(0x1fd)]('/'+_0x4a60cc+'/');});}async function calculateDirectoryHash(_0x331080){const _0x4dd6a9=a0_0x38b02e,_0x32d456=new Map();async function _0x2a3ab3(_0xaa16b2){const _0x23f18c=a0_0x226b,_0x125e25=await fs[_0x23f18c(0x1ec)](_0xaa16b2,{'withFileTypes':!![]});for(const _0x47bc25 of _0x125e25){const _0x5ec116=path[_0x23f18c(0x24b)](_0xaa16b2,_0x47bc25[_0x23f18c(0x1c6)]),_0x441862=path[_0x23f18c(0x1e5)](_0x331080,_0x5ec116);if(isProtectedPath(_0x441862))continue;if(_0x47bc25[_0x23f18c(0x23c)]())await _0x2a3ab3(_0x5ec116);else{const _0x295ae6=await fs[_0x23f18c(0x22d)](_0x5ec116),_0x2ba4a3=crypto[_0x23f18c(0x227)](_0x23f18c(0x1ea))[_0x23f18c(0x212)](_0x295ae6)[_0x23f18c(0x203)]('hex');_0x32d456['set'](_0x441862,_0x2ba4a3);}}}await _0x2a3ab3(_0x331080);const _0x3ae0f5=Array[_0x4dd6a9(0x25c)](_0x32d456[_0x4dd6a9(0x1fb)]())['sort'](([_0x3c20bc],[_0xe2eb78])=>_0x3c20bc['localeCompare'](_0xe2eb78))['map'](([_0x508e07,_0x3fcf69])=>_0x508e07+':'+_0x3fcf69)[_0x4dd6a9(0x24b)]('\x0a');return crypto[_0x4dd6a9(0x227)]('sha256')[_0x4dd6a9(0x212)](_0x3ae0f5)[_0x4dd6a9(0x203)](_0x4dd6a9(0x251));}async function getPreviousCommit(){const _0x264fe6=a0_0x38b02e;try{const _0x45eac7=await githubFetch(_0x264fe6(0x220)+config[_0x264fe6(0x1e4)][_0x264fe6(0x216)]+'/'+config[_0x264fe6(0x1e4)][_0x264fe6(0x20a)]+_0x264fe6(0x20c)),_0x8bed4b=await _0x45eac7[_0x264fe6(0x1d2)]();return _0x8bed4b['length']>0x1?_0x8bed4b[0x1]['sha']:_0x8bed4b[0x0]['sha'];}catch(_0x49a113){console['error'](_0x264fe6(0x21d),_0x49a113);throw _0x49a113;}}function a0_0x226b(_0x45df6f,_0x1f0d29){const _0xb1c259=a0_0xb1c2();return a0_0x226b=function(_0x226bb5,_0x219fc4){_0x226bb5=_0x226bb5-0x1c3;let _0x4b27ec=_0xb1c259[_0x226bb5];return _0x4b27ec;},a0_0x226b(_0x45df6f,_0x1f0d29);}async function getCurrentState(){const _0x3d29a5=a0_0x38b02e;try{try{const _0x168f95=await fs[_0x3d29a5(0x22d)](config[_0x3d29a5(0x22c)],_0x3d29a5(0x253));return{'hash':_0x168f95['trim'](),'storedVersion':_0x168f95[_0x3d29a5(0x1e1)]()};}catch(_0x184acc){const _0x5ae7b2=await getPreviousCommit();return await fs[_0x3d29a5(0x250)](config[_0x3d29a5(0x22c)],_0x5ae7b2),{'hash':_0x5ae7b2,'storedVersion':_0x5ae7b2};}}catch(_0x6106ed){console[_0x3d29a5(0x1e3)](_0x3d29a5(0x269),_0x6106ed);throw _0x6106ed;}}async function getLatestCommit(){const _0x3eecc5=a0_0x38b02e;try{const _0x561cbc=await githubFetch(_0x3eecc5(0x220)+config[_0x3eecc5(0x1e4)][_0x3eecc5(0x216)]+'/'+config[_0x3eecc5(0x1e4)][_0x3eecc5(0x20a)]+_0x3eecc5(0x210)+config['github'][_0x3eecc5(0x213)]),_0x148be4=await _0x561cbc[_0x3eecc5(0x1d2)]();return{'hash':_0x148be4[_0x3eecc5(0x1d9)],'message':_0x148be4[_0x3eecc5(0x256)][_0x3eecc5(0x208)],'date':_0x148be4['commit']['author'][_0x3eecc5(0x25d)]};}catch(_0x11555e){console['error'](_0x3eecc5(0x22e),_0x11555e);throw _0x11555e;}}async function getChangedFiles(_0x3b8e71,_0x3a0e02){const _0x439905=a0_0x38b02e;try{if(!_0x3b8e71||!_0x3a0e02)throw new Error(_0x439905(0x25e));const _0x209b71=_0x439905(0x220)+config[_0x439905(0x1e4)][_0x439905(0x216)]+'/'+config['github'][_0x439905(0x20a)]+_0x439905(0x248)+_0x3b8e71+_0x439905(0x243)+_0x3a0e02,_0xd6a078=await githubFetch(_0x209b71),_0x324be6=await _0xd6a078[_0x439905(0x1d2)]();if(!_0x324be6[_0x439905(0x202)])throw new Error(_0x439905(0x262));if(_0x324be6[_0x439905(0x1f8)]>0x0&&_0x324be6['files'][_0x439905(0x1f5)]===0x0)return[{'filename':_0x439905(0x25f),'status':_0x439905(0x245)}];return _0x324be6['files'];}catch(_0x22a91f){console['error'](_0x439905(0x211),_0x22a91f);throw _0x22a91f;}}async function ensureDir(_0x5f4d28){const _0x2616b4=a0_0x38b02e;try{await fs[_0x2616b4(0x228)](_0x5f4d28);}catch{await fs['mkdir'](_0x5f4d28,{'recursive':!![]});}}async function removeDir(_0x3d77bf){if(isProtectedPath(_0x3d77bf))return;try{await fs['rm'](_0x3d77bf,{'recursive':!![],'force':!![]});}catch(_0x1e1368){}}async function downloadCommit(_0x430f26){const _0x55e5cd=a0_0x38b02e;try{const _0xab2d9d=_0x55e5cd(0x220)+config[_0x55e5cd(0x1e4)][_0x55e5cd(0x216)]+'/'+config[_0x55e5cd(0x1e4)][_0x55e5cd(0x20a)]+_0x55e5cd(0x1d1)+_0x430f26,_0x37e282=await githubFetch(_0xab2d9d),_0x4e28eb=await _0x37e282[_0x55e5cd(0x24d)]();await fs[_0x55e5cd(0x250)](config[_0x55e5cd(0x201)][_0x55e5cd(0x25a)],Buffer['from'](_0x4e28eb));const _0x1ff7bf=new AdmZip(config['paths']['zip']);return await new Promise((_0x12342a,_0x13ecaf)=>{const _0x1d2d47=_0x55e5cd;_0x1ff7bf[_0x1d2d47(0x1d4)](config[_0x1d2d47(0x201)][_0x1d2d47(0x22f)],!![],_0x18416c=>{const _0x2dab4f=_0x1d2d47;if(_0x18416c)_0x13ecaf(new Error(_0x2dab4f(0x21a)+_0x18416c[_0x2dab4f(0x208)]));else _0x12342a();});}),await fs[_0x55e5cd(0x250)](config['versionFile'],_0x430f26),!![];}catch(_0x4730ce){console[_0x55e5cd(0x1e3)]('Download\x20error:',_0x4730ce);throw new Error(_0x55e5cd(0x1cb)+_0x4730ce['message']);}}async function mapDirectory(_0x4c81eb,_0x22b39c=_0x4c81eb){const _0x4f07aa=new Map();async function _0x2ace07(_0x579fd3){const _0x1569f1=a0_0x226b,_0x30f752=await fs[_0x1569f1(0x1ec)](_0x579fd3,{'withFileTypes':!![]});for(const _0x57a8e3 of _0x30f752){const _0x4a4ff3=path[_0x1569f1(0x24b)](_0x579fd3,_0x57a8e3['name']),_0x237208=path[_0x1569f1(0x1e5)](_0x22b39c,_0x4a4ff3);if(_0x57a8e3[_0x1569f1(0x23c)]())!isProtectedPath(_0x237208)&&await _0x2ace07(_0x4a4ff3);else{if(!isProtectedPath(_0x237208)){const _0x3de87f=await fs[_0x1569f1(0x255)](_0x4a4ff3);_0x4f07aa['set'](_0x237208,{'path':_0x4a4ff3,'stats':_0x3de87f,'type':path[_0x1569f1(0x20d)](_0x57a8e3[_0x1569f1(0x1c6)])[_0x1569f1(0x21e)]()});}}}}return await _0x2ace07(_0x4c81eb),_0x4f07aa;}async function enhancedFileSync(_0x2615fb,_0x26ea7b){const _0x3df8c3=a0_0x38b02e;try{const _0x50cda7=await mapDirectory(_0x2615fb),_0x28ac45=await mapDirectory(_0x26ea7b),_0x4e708b=[],_0x48a742=[];for(const [_0x32a93b,_0x3ddd26]of _0x50cda7){if(isProtectedPath(_0x32a93b))continue;const _0x5efb42=path[_0x3df8c3(0x24b)](_0x26ea7b,_0x32a93b);try{await ensureDir(path[_0x3df8c3(0x1fa)](_0x5efb42)),await fs[_0x3df8c3(0x267)](_0x3ddd26[_0x3df8c3(0x1d6)],_0x5efb42),_0x4e708b[_0x3df8c3(0x1c4)](_0x32a93b);}catch(_0x7082dc){console['error'](_0x3df8c3(0x1f2)+_0x32a93b+':',_0x7082dc),_0x48a742[_0x3df8c3(0x1c4)](_0x32a93b+':\x20'+_0x7082dc[_0x3df8c3(0x208)]);}}for(const [_0x2171a8,_0x1eaf2f]of _0x28ac45){if(!_0x50cda7[_0x3df8c3(0x1f6)](_0x2171a8)&&!isProtectedPath(_0x2171a8))try{await fs[_0x3df8c3(0x209)](_0x1eaf2f[_0x3df8c3(0x1d6)]),_0x4e708b[_0x3df8c3(0x1c4)](_0x3df8c3(0x261)+_0x2171a8);}catch(_0x52b3c8){console[_0x3df8c3(0x1e3)](_0x3df8c3(0x1f0)+_0x2171a8+':',_0x52b3c8),_0x48a742[_0x3df8c3(0x1c4)](_0x3df8c3(0x1d0)+_0x2171a8+':\x20'+_0x52b3c8[_0x3df8c3(0x208)]);}}return{'updates':_0x4e708b,'errors':_0x48a742};}catch(_0x3a997e){return console['error'](_0x3df8c3(0x200),_0x3a997e),{'updates':[],'errors':[_0x3a997e['message']]};}}async function downloadFile(_0x350646,_0x38fd9c){const _0x49b836=a0_0x38b02e;try{const _0x5e73da=_0x49b836(0x231)+config['github'][_0x49b836(0x216)]+'/'+config[_0x49b836(0x1e4)]['repo']+'/'+_0x38fd9c+'/'+_0x350646,_0x3c0bd5=await githubFetch(_0x5e73da),_0x1a5293=await _0x3c0bd5['arrayBuffer'](),_0xfff339=path[_0x49b836(0x24b)](config[_0x49b836(0x201)][_0x49b836(0x242)],_0x350646);return await ensureDir(path[_0x49b836(0x1fa)](_0xfff339)),await fs['writeFile'](_0xfff339,Buffer['from'](_0x1a5293)),!![];}catch(_0x6bf92){return console[_0x49b836(0x1e3)](_0x49b836(0x1c3)+_0x350646+':',_0x6bf92),![];}}async function updateIndividualFiles(_0x472134,_0xd5b5d1){const _0x50b12d=a0_0x38b02e,_0x186225=[],_0x4535d1=[];for(const _0xd138e7 of _0x472134){if(!isProtectedPath(_0xd138e7['filename']))try{if(_0xd138e7[_0x50b12d(0x207)]===_0x50b12d(0x1d8))try{await fs[_0x50b12d(0x209)](path[_0x50b12d(0x24b)](config[_0x50b12d(0x201)][_0x50b12d(0x242)],_0xd138e7[_0x50b12d(0x223)])),_0x186225[_0x50b12d(0x1c4)](_0x50b12d(0x261)+_0xd138e7['filename']);}catch(_0x42f76b){_0x42f76b[_0x50b12d(0x1f9)]!==_0x50b12d(0x1fe)&&_0x4535d1[_0x50b12d(0x1c4)](_0x50b12d(0x1d0)+_0xd138e7[_0x50b12d(0x223)]+':\x20'+_0x42f76b[_0x50b12d(0x208)]);}else{const _0xfeb30=await downloadFile(_0xd138e7[_0x50b12d(0x223)],_0xd5b5d1);_0xfeb30?_0x186225[_0x50b12d(0x1c4)]('Updated:\x20'+_0xd138e7[_0x50b12d(0x223)]):_0x4535d1[_0x50b12d(0x1c4)](_0x50b12d(0x1cc)+_0xd138e7['filename']);}}catch(_0x22dd55){_0x4535d1[_0x50b12d(0x1c4)](_0x50b12d(0x24e)+_0xd138e7[_0x50b12d(0x223)]+':\x20'+_0x22dd55[_0x50b12d(0x208)]);}}return _0x4535d1[_0x50b12d(0x1f5)]===0x0&&await fs['writeFile'](config[_0x50b12d(0x22c)],_0xd5b5d1),{'updates':_0x186225,'errors':_0x4535d1};}async function cleanup(){const _0x4e027d=a0_0x38b02e;try{await Promise[_0x4e027d(0x1d5)]([removeDir(config[_0x4e027d(0x201)][_0x4e027d(0x22f)]),fs[_0x4e027d(0x209)](config[_0x4e027d(0x201)][_0x4e027d(0x25a)])[_0x4e027d(0x25b)](()=>{})]);}catch(_0x279431){console[_0x4e027d(0x1e3)](_0x4e027d(0x219),_0x279431);}}function requiresRestart(_0x30a411){const _0x5e52d6=a0_0x38b02e,_0x297b04=_0x30a411['map'](_0x217eda=>typeof _0x217eda===_0x5e52d6(0x1df)?_0x217eda:_0x217eda[_0x5e52d6(0x223)]);if(_0x297b04[_0x5e52d6(0x21c)](_0x2e4070=>_0x2e4070[_0x5e52d6(0x1fd)](_0x5e52d6(0x24a))))return!![];const _0x7e240f=_0x297b04[_0x5e52d6(0x214)](_0x5b150a=>!_0x5b150a[_0x5e52d6(0x1fd)](_0x5e52d6(0x263)));return _0x7e240f[_0x5e52d6(0x1f5)]>0x0;}async function getChangedFiles(_0x349f8a,_0x295ad6){const _0x22ce82=a0_0x38b02e;try{if(!_0x349f8a||!_0x295ad6)throw new Error(_0x22ce82(0x25e));const _0x58a77f=_0x22ce82(0x220)+config[_0x22ce82(0x1e4)][_0x22ce82(0x216)]+'/'+config['github'][_0x22ce82(0x20a)]+_0x22ce82(0x248)+_0x349f8a+_0x22ce82(0x243)+_0x295ad6,_0x4e1483=await githubFetch(_0x58a77f),_0x582708=await _0x4e1483[_0x22ce82(0x1d2)]();if(!_0x582708[_0x22ce82(0x202)]&&!Array[_0x22ce82(0x1dc)](_0x582708[_0x22ce82(0x202)]))throw new Error(_0x22ce82(0x262));const _0x2ccd10=new Map();_0x582708[_0x22ce82(0x202)][_0x22ce82(0x1eb)](_0x37868f=>{const _0x461b55=_0x22ce82;_0x2ccd10[_0x461b55(0x21b)](_0x37868f[_0x461b55(0x223)],_0x37868f);});const _0x4dbf2d=Array[_0x22ce82(0x25c)](_0x2ccd10[_0x22ce82(0x22b)]());return _0x4dbf2d;}catch(_0x9b9a6f){console[_0x22ce82(0x1e3)](_0x22ce82(0x211),_0x9b9a6f);throw _0x9b9a6f;}}async function getCommitHistory(_0x525622,_0x5b8fae){const _0x4d5ef0=a0_0x38b02e;try{const _0x2f807f='https://api.github.com/repos/'+config[_0x4d5ef0(0x1e4)][_0x4d5ef0(0x216)]+'/'+config[_0x4d5ef0(0x1e4)][_0x4d5ef0(0x20a)]+'/compare/'+_0x525622+_0x4d5ef0(0x243)+_0x5b8fae,_0x6fdf58=await githubFetch(_0x2f807f),_0x461aa6=await _0x6fdf58['json']();if(!_0x461aa6[_0x4d5ef0(0x26a)])throw new Error(_0x4d5ef0(0x262));return _0x461aa6[_0x4d5ef0(0x26a)]['map'](_0x2e6986=>({'hash':_0x2e6986[_0x4d5ef0(0x1d9)]['substring'](0x0,0x8),'message':_0x2e6986['commit'][_0x4d5ef0(0x208)],'date':_0x2e6986[_0x4d5ef0(0x256)]['author'][_0x4d5ef0(0x25d)]}));}catch(_0x22e85e){console[_0x4d5ef0(0x1e3)](_0x4d5ef0(0x246),_0x22e85e);throw _0x22e85e;}}async function checkForUpdates(){const _0x74acbd=a0_0x38b02e;try{const _0x2fcf1e=await getCurrentState(),_0x5c2a0e=await getLatestCommit();let _0x43dcd5=[],_0x30af17=[];return _0x2fcf1e[_0x74acbd(0x1de)]!==_0x5c2a0e[_0x74acbd(0x1de)]&&(_0x43dcd5=await getChangedFiles(_0x2fcf1e['hash'],_0x5c2a0e[_0x74acbd(0x1de)]),_0x30af17=await getCommitHistory(_0x2fcf1e[_0x74acbd(0x1de)],_0x5c2a0e[_0x74acbd(0x1de)])),{'needsUpdate':_0x2fcf1e[_0x74acbd(0x1de)]!==_0x5c2a0e['hash'],'useZip':![],'changedFiles':_0x43dcd5,'commitHistory':_0x30af17,'current':{'hash':_0x2fcf1e[_0x74acbd(0x1de)][_0x74acbd(0x1e9)](0x0,0x8),'stored':_0x2fcf1e['storedVersion']['substring'](0x0,0x8)},'latest':{'hash':_0x5c2a0e['hash'],'shortHash':_0x5c2a0e[_0x74acbd(0x1de)][_0x74acbd(0x1e9)](0x0,0x8),'message':_0x5c2a0e[_0x74acbd(0x208)],'date':_0x5c2a0e[_0x74acbd(0x25d)]}};}catch(_0x16ba2e){console['error'](_0x74acbd(0x1ef),_0x16ba2e);throw _0x16ba2e;}}async function performUpdate(_0xeafb7f){const _0x42058e=a0_0x38b02e;try{_0xeafb7f['commitHistory']['forEach']((_0x5927a8,_0x1be50b)=>{});const _0x48e546=await updateIndividualFiles(_0xeafb7f[_0x42058e(0x254)],_0xeafb7f['latest']['hash']);return await cleanup(),_0x48e546;}catch(_0x15f0ce){console[_0x42058e(0x1e3)]('Update\x20process\x20failed:',_0x15f0ce),await cleanup();throw _0x15f0ce;}}async function checkAndAutoUpdate(){const _0x316316=a0_0x38b02e;try{const _0x299c8d=await checkForUpdates();if(_0x299c8d['needsUpdate']){_0x299c8d[_0x316316(0x1f4)][_0x316316(0x1eb)]((_0x2e7514,_0x386d30)=>{}),console[_0x316316(0x23f)]('UPDATING\x20BOT,\x20PLEASE\x20WAIT');const {updates:updates=[],errors:errors=[]}=await performUpdate(_0x299c8d);if(errors[_0x316316(0x1f5)]>0x0)return console['log'](_0x316316(0x23b),errors),![];console[_0x316316(0x23f)](_0x316316(0x1dd));if(updates['length']>0x0&&requiresRestart(updates)){const _0x267c35=spawn(_0x316316(0x244),[_0x316316(0x23a)],{'detached':!![],'stdio':_0x316316(0x259),'cwd':config[_0x316316(0x201)][_0x316316(0x242)]});_0x267c35[_0x316316(0x258)](),process[_0x316316(0x1e0)](0x0);}else{}return!![];}else return console[_0x316316(0x23f)]('‚úì\x20Bot\x20is\x20up\x20to\x20date'),!![];}catch(_0x28e47d){return console[_0x316316(0x1e3)](_0x316316(0x222),_0x28e47d),await cleanup(),![];}}async function updateBot(_0x1cff18,_0x35a445){const _0x3280e9=a0_0x38b02e;try{await _0x1cff18[_0x3280e9(0x1e2)](_0x35a445['key']['remoteJid'],{'text':_0x3280e9(0x218)},{'quoted':_0x35a445});const _0x5478ad=await checkForUpdates();if(_0x5478ad['needsUpdate']){const _0x171384=_0x5478ad[_0x3280e9(0x1f4)][_0x3280e9(0x215)]((_0x56ed69,_0x2b2c66)=>_0x2b2c66+0x1+_0x3280e9(0x233)+_0x56ed69['hash']+']\x0a'+_0x56ed69[_0x3280e9(0x208)])['join']('\x0a\x0a');await _0x1cff18[_0x3280e9(0x1e2)](_0x35a445[_0x3280e9(0x205)][_0x3280e9(0x1ee)],{'text':_0x3280e9(0x1c9)+_0x5478ad[_0x3280e9(0x24c)][_0x3280e9(0x1de)]+'\x0aLatest:\x20'+_0x5478ad[_0x3280e9(0x236)][_0x3280e9(0x225)]+'\x0a\x0aCommit\x20History:\x0a'+_0x171384+_0x3280e9(0x22a)},{'quoted':_0x35a445}),await _0x1cff18[_0x3280e9(0x1e2)](_0x35a445['key']['remoteJid'],{'text':_0x3280e9(0x1da)},{'quoted':_0x35a445});const {updates:updates=[],errors:errors=[]}=await performUpdate(_0x5478ad);if(errors[_0x3280e9(0x1f5)]>0x0){await _0x1cff18[_0x3280e9(0x1e2)](_0x35a445['key'][_0x3280e9(0x1ee)],{'text':_0x3280e9(0x260)+errors[_0x3280e9(0x1f5)]+_0x3280e9(0x206)+errors[_0x3280e9(0x24b)]('\x0a')},{'quoted':_0x35a445});return;}const _0x3b64a3='‚úì\x20Update\x20completed\x20successfully!\x0a\x0aFiles\x20updated:\x20'+updates[_0x3280e9(0x1f5)]+'\x0a\x0aUpdated\x20with\x20'+_0x5478ad[_0x3280e9(0x1f4)]['length']+_0x3280e9(0x23d);await _0x1cff18[_0x3280e9(0x1e2)](_0x35a445[_0x3280e9(0x205)][_0x3280e9(0x1ee)],{'text':_0x3b64a3},{'quoted':_0x35a445});if(updates[_0x3280e9(0x1f5)]>0x0&&requiresRestart(updates)){await _0x1cff18[_0x3280e9(0x1e2)](_0x35a445[_0x3280e9(0x205)][_0x3280e9(0x1ee)],{'text':'üîÑ\x20Core\x20files\x20updated\x20-\x20Restart\x20needed...'},{'quoted':_0x35a445});const _0x3f27eb=spawn(_0x3280e9(0x244),[_0x3280e9(0x23a)],{'detached':!![],'stdio':'ignore','cwd':config[_0x3280e9(0x201)][_0x3280e9(0x242)]});_0x3f27eb[_0x3280e9(0x258)](),process[_0x3280e9(0x1e0)](0x0);}else await _0x1cff18[_0x3280e9(0x1e2)](_0x35a445[_0x3280e9(0x205)]['remoteJid'],{'text':_0x3280e9(0x1fc)},{'quoted':_0x35a445});}else await _0x1cff18[_0x3280e9(0x1e2)](_0x35a445[_0x3280e9(0x205)][_0x3280e9(0x1ee)],{'text':'‚úì\x20Bot\x20is\x20up\x20to\x20date!\x0a\x0aCurrent\x20version:\x20'+_0x5478ad[_0x3280e9(0x24c)][_0x3280e9(0x1de)]+'\x0aLatest\x20commit:\x20'+_0x5478ad[_0x3280e9(0x236)][_0x3280e9(0x208)]},{'quoted':_0x35a445});}catch(_0xd3968b){console['error'](_0x3280e9(0x240),_0xd3968b),await _0x1cff18['sendMessage'](_0x35a445['key']['remoteJid'],{'text':'‚ùå\x20Update\x20check\x20failed:\x20'+_0xd3968b[_0x3280e9(0x208)]},{'quoted':_0x35a445}),await cleanup();}}module[a0_0x38b02e(0x221)]={'usage':[a0_0x38b02e(0x212)],'desc':a0_0x38b02e(0x234),'commandType':a0_0x38b02e(0x230),'isGroupOnly':![],'isAdminOnly':![],'isPrivateOnly':![],'isOwnerOnly':!![],'emoji':'‚öôÔ∏è','execute':updateBot,'checkAndAutoUpdate':checkAndAutoUpdate};