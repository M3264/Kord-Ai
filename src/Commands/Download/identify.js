const a0_0x1d7d10=a0_0x625d;(function(_0x36f568,_0x53d636){const _0x2f1167=a0_0x625d,_0x51572b=_0x36f568();while(!![]){try{const _0xaccb93=parseInt(_0x2f1167(0x206))/0x1*(parseInt(_0x2f1167(0x207))/0x2)+-parseInt(_0x2f1167(0x227))/0x3*(-parseInt(_0x2f1167(0x20c))/0x4)+-parseInt(_0x2f1167(0x205))/0x5*(-parseInt(_0x2f1167(0x228))/0x6)+-parseInt(_0x2f1167(0x20d))/0x7*(parseInt(_0x2f1167(0x208))/0x8)+-parseInt(_0x2f1167(0x220))/0x9*(parseInt(_0x2f1167(0x234))/0xa)+parseInt(_0x2f1167(0x223))/0xb*(parseInt(_0x2f1167(0x1fa))/0xc)+-parseInt(_0x2f1167(0x23f))/0xd;if(_0xaccb93===_0x53d636)break;else _0x51572b['push'](_0x51572b['shift']());}catch(_0x45edd7){_0x51572b['push'](_0x51572b['shift']());}}}(a0_0x5d51,0x4f187));function a0_0x5d51(){const _0x4c7f35=['.mp3','youtube','toString','writeFile','createHmac','track','temp_','vid','âž¤\x20*Artist*:\x20','https://youtube.com/watch?v=','node-fetch','YouTube\x20search\x20error:','error','sample_bytes','crypto','now','âŒ\x20*There\x20was\x20an\x20error\x20while\x20processing\x20the\x20media*','update','output','96OCcOEs','âž¤\x20*Title*:\x20','buffer','videos','*ðŸ“Š\x20YouTube\x20Stats:*\x0a','signature_version','form-data','ðŸŽµ\x20*Processing\x20your\x20media...*','extendedTextMessage','*ðŸŽ¼\x20Album/Track\x20Artwork*','sha1','50PRrQqN','546521HlfuWN','2eeldxR','2696brmOYD','host','data_type','endpoint','560COmdBs','9415qzXzKE','http://','join','utf-8','map','https://via.placeholder.com/300','âž¤\x20*Views*:\x20','floor','downloadQuotedMedia','contextInfo','cut_','/v1/identify','readFile','ago','access_key','yt-search','toLocaleString','*ðŸŽ§\x20Listen\x20On:*\x0a','artists','27HFllyV','âž¤\x20*Released*:\x20','ðŸŽµ\x20*Track\x20Identified!*\x0a\x0a','887381WKQUkW','unlinkSync','identifyaudio','external_metadata','7422MOjOZN','70614nEeTnC','audio','âž¤\x20*Uploaded*:\x20','https://open.spotify.com/track/','âž¤\x20*Duration*:\x20','sendImage','end','duration','tmpdir','setStartTime','digest','album','1067600bOidSV','reply','timestamp','signature','sample','music','exports','title','extension','name','âŒ\x20Failed\x20to\x20download\x20the\x20quoted\x20media.','7259447EaUgsy','url','views','N/A','append','quotedMessage','âŒ\x20*Failed\x20to\x20identify\x20audio*\x0a\x0a_Error:\x20','âž¤\x20*YouTube*:\x20','thumbnail','âŒ\x20Failed\x20to\x20download\x20the\x20media.','path','msg','spotify','shazam','POST'];a0_0x5d51=function(){return _0x4c7f35;};return a0_0x5d51();}function a0_0x625d(_0x322372,_0x3e3de0){const _0x5d514a=a0_0x5d51();return a0_0x625d=function(_0x625d00,_0x13416c){_0x625d00=_0x625d00-0x1e9;let _0x27d059=_0x5d514a[_0x625d00];return _0x27d059;},a0_0x625d(_0x322372,_0x3e3de0);}const crypto=require(a0_0x1d7d10(0x1f5)),fs=require('fs'),path=require(a0_0x1d7d10(0x249)),FormData=require(a0_0x1d7d10(0x200)),fetch=require(a0_0x1d7d10(0x1f1)),os=require('os'),{promises:fsPromises}=require('fs'),ffmpeg=require('fluent-ffmpeg'),yts=require(a0_0x1d7d10(0x21c));module[a0_0x1d7d10(0x23a)]={'usage':[a0_0x1d7d10(0x225),a0_0x1d7d10(0x24c)],'description':'Identifies\x20audio/music\x20using\x20ACRCloud\x20API','isPrivateOnly':![],'isGroupOnly':![],'isAdminOnly':![],async 'execute'(_0x588197,_0x4c55cc,_0x2a2bc1,_0x3cf822){const _0x558fde=a0_0x1d7d10;try{await _0x3cf822[_0x558fde(0x235)](_0x558fde(0x201));let _0x440676;if(_0x4c55cc['message'][_0x558fde(0x202)]?.[_0x558fde(0x216)]?.[_0x558fde(0x244)]){_0x440676=await _0x3cf822[_0x558fde(0x215)]();if(!_0x440676?.[_0x558fde(0x1fc)])return await _0x3cf822[_0x558fde(0x235)](_0x558fde(0x23e));}else{_0x440676=await _0x3cf822[_0x558fde(0x215)]();if(!_0x440676?.['buffer'])return await _0x3cf822[_0x558fde(0x235)](_0x558fde(0x248));}const _0x1671a8=path['join'](os[_0x558fde(0x230)](),_0x440676['filename']||_0x558fde(0x1ed)+Date[_0x558fde(0x1f6)]()+'.'+_0x440676[_0x558fde(0x23c)]),_0x32a8e0=path['join'](os['tmpdir'](),_0x558fde(0x217)+Date['now']()+_0x558fde(0x24e));await fsPromises[_0x558fde(0x1ea)](_0x1671a8,_0x440676[_0x558fde(0x1fc)]),await audioCut(_0x1671a8,_0x32a8e0,0x0,0xf);const _0x9e25dd=await fsPromises[_0x558fde(0x219)](_0x32a8e0),_0x44ee90={'host':'identify-eu-west-1.acrcloud.com','endpoint':_0x558fde(0x218),'signature_version':'1','data_type':_0x558fde(0x229),'secure':!![],'access_key':'8c21a32a02bf79a4a26cb0fa5c941e95','access_secret':'NRSxpk6fKwEiVdNhyx5lR0DP8LzeflYpClNg1gze'},_0x531aab=Math[_0x558fde(0x214)](Date[_0x558fde(0x1f6)]()/0x3e8),_0xc88d57=buildStringToSign(_0x558fde(0x24d),_0x44ee90[_0x558fde(0x20b)],_0x44ee90['access_key'],_0x44ee90[_0x558fde(0x20a)],_0x44ee90[_0x558fde(0x1ff)],_0x531aab),_0x4634b4=sign(_0xc88d57,_0x44ee90['access_secret']),_0x4ba1eb=new FormData();_0x4ba1eb['append'](_0x558fde(0x238),_0x9e25dd),_0x4ba1eb[_0x558fde(0x243)](_0x558fde(0x1f4),_0x9e25dd['length']),_0x4ba1eb[_0x558fde(0x243)](_0x558fde(0x21b),_0x44ee90[_0x558fde(0x21b)]),_0x4ba1eb[_0x558fde(0x243)](_0x558fde(0x20a),_0x44ee90[_0x558fde(0x20a)]),_0x4ba1eb[_0x558fde(0x243)](_0x558fde(0x1ff),_0x44ee90['signature_version']),_0x4ba1eb['append'](_0x558fde(0x237),_0x4634b4),_0x4ba1eb[_0x558fde(0x243)]('timestamp',_0x531aab);const _0x553a58=await fetch(_0x558fde(0x20e)+_0x44ee90[_0x558fde(0x209)]+_0x44ee90['endpoint'],{'method':_0x558fde(0x24d),'body':_0x4ba1eb}),{status:_0x4213c7,metadata:_0x3a0a76}=await _0x553a58['json']();if(_0x4213c7['code']===0x0){const _0xf203ee=_0x3a0a76[_0x558fde(0x239)][0x0];let _0x272a2c=null;try{const _0x398d63=_0xf203ee[_0x558fde(0x23b)]+'\x20'+_0xf203ee[_0x558fde(0x21f)][0x0][_0x558fde(0x23d)],_0x50141d=await yts(_0x398d63);_0x272a2c=_0x50141d[_0x558fde(0x1fd)][0x0];}catch(_0x12dfd9){console[_0x558fde(0x1f3)](_0x558fde(0x1f2),_0x12dfd9);}const _0x2c0279=_0x558fde(0x222)+(_0x558fde(0x1fb)+_0xf203ee[_0x558fde(0x23b)]+'\x0a')+(_0x558fde(0x1ef)+_0xf203ee[_0x558fde(0x21f)][_0x558fde(0x211)](_0x191d27=>_0x191d27[_0x558fde(0x23d)])[_0x558fde(0x20f)](',\x20')+'\x0a')+('âž¤\x20*Album*:\x20'+_0xf203ee[_0x558fde(0x233)][_0x558fde(0x23d)]+'\x0a')+(_0x558fde(0x221)+(_0xf203ee['release_date']||_0x558fde(0x242))+'\x0a\x0a')+_0x558fde(0x21e)+('âž¤\x20*Spotify*:\x20'+(_0xf203ee[_0x558fde(0x226)][_0x558fde(0x24b)]?.['track']['id']?_0x558fde(0x22b)+_0xf203ee[_0x558fde(0x226)][_0x558fde(0x24b)][_0x558fde(0x1ec)]['id']:_0x558fde(0x242))+'\x0a')+(_0x558fde(0x246)+(_0x272a2c?_0x272a2c[_0x558fde(0x240)]:_0xf203ee['external_metadata'][_0x558fde(0x24f)]?.['vid']?_0x558fde(0x1f0)+_0xf203ee[_0x558fde(0x226)]['youtube'][_0x558fde(0x1ee)]:_0x558fde(0x242))+'\x0a\x0a')+(_0x272a2c?_0x558fde(0x1fe)+(_0x558fde(0x213)+_0x272a2c[_0x558fde(0x241)][_0x558fde(0x21d)]()+'\x0a')+(_0x558fde(0x22c)+_0x272a2c[_0x558fde(0x22f)][_0x558fde(0x236)]+'\x0a')+(_0x558fde(0x22a)+_0x272a2c[_0x558fde(0x21a)]+'\x0a'):''),_0x113e0d=_0x272a2c?.[_0x558fde(0x247)]||(_0xf203ee[_0x558fde(0x226)][_0x558fde(0x24b)]?.[_0x558fde(0x233)]['id']?'https://i.scdn.co/image/'+_0xf203ee[_0x558fde(0x226)][_0x558fde(0x24b)][_0x558fde(0x233)]['id']:_0x558fde(0x212));await _0x3cf822['reply'](_0x2c0279),await _0x3cf822[_0x558fde(0x22d)](_0x113e0d,_0x558fde(0x203));}else await _0x3cf822['reply'](_0x558fde(0x245)+_0x4213c7[_0x558fde(0x24a)]+'_');const _0x198789=[_0x1671a8,_0x32a8e0];for(const _0x162ac0 of _0x198789){fs['existsSync'](_0x162ac0)&&fs[_0x558fde(0x224)](_0x162ac0);}}catch(_0xc81151){console['error']('Error\x20identifying\x20audio:',_0xc81151),await _0x3cf822[_0x558fde(0x235)](_0x558fde(0x1f7));}}};async function audioCut(_0x49b5da,_0x3b6a98,_0x348b92,_0x5861ad){return new Promise((_0x4f00b1,_0x3e6077)=>{const _0x19212f=a0_0x625d;ffmpeg(_0x49b5da)[_0x19212f(0x231)](_0x348b92)['setDuration'](_0x5861ad-_0x348b92)[_0x19212f(0x1f9)](_0x3b6a98)['on'](_0x19212f(0x22e),()=>_0x4f00b1())['on'](_0x19212f(0x1f3),_0x30e7c9=>_0x3e6077(_0x30e7c9))['run']();});}function buildStringToSign(_0x159f0f,_0x4c1d73,_0x3e99ee,_0x50260f,_0x1b5d23,_0x2048d1){const _0x22e899=a0_0x1d7d10;return[_0x159f0f,_0x4c1d73,_0x3e99ee,_0x50260f,_0x1b5d23,_0x2048d1][_0x22e899(0x20f)]('\x0a');}function sign(_0x48b4c0,_0x418a9e){const _0x35e933=a0_0x1d7d10;return crypto[_0x35e933(0x1eb)](_0x35e933(0x204),_0x418a9e)[_0x35e933(0x1f8)](Buffer['from'](_0x48b4c0,_0x35e933(0x210)))[_0x35e933(0x232)]()[_0x35e933(0x1e9)]('base64');}